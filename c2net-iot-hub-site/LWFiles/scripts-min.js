function updateViewportDimensions(){var t=window,e=document,o=e.documentElement,n=e.getElementsByTagName("body")[0],a=t.innerWidth||o.clientWidth||n.clientWidth,i=t.innerHeight||o.clientHeight||n.clientHeight;return{width:a,height:i}}function homeScripts(t){!function($){function e(){$(window).width()>500&&$(".moving--image, .moving--section").each(function(){var e=$(this),o=$(this).data("direction");if($image=e.children("img .image--background"),e.hasClass("reduced--motion"))var n="true";else var n="";new ScrollMagic.Scene({triggerElement:this,duration:2*e.height()}).on("progress",function(t){var a=190*t.progress,i=190*t.progress;if("true"===n)var a=50*t.progress,i=50*t.progress;var r=a+"px",s=i+"px";"up"===o?($image.css({"-webkit-transform":"translateY("+r+")","-moz-transform":"translateY("+r+")",transform:"translateY("+r+")"}),e.css({"-webkit-transform":"translateY("+s+")","-moz-transform":"translateY("+s+")",transform:"translateY("+s+")"})):($image.css({"-webkit-transform":"translateY(-"+r+")","-moz-transform":"translateY(-"+r+")",transform:"translateY(-"+r+")"}),e.css({"-webkit-transform":"translateY(-"+s+")","-moz-transform":"translateY(-"+s+")",transform:"translateY(-"+s+")"}))}).on("leave",function(t){}).addTo(t)})}function o(){$(window).width()>500&&$(".label--section").each(function(){var e=$(this),o=e.children(".section--label"),n=e.height()/5;new ScrollMagic.Scene({triggerElement:this,duration:e.height(),offset:n}).on("enter",function(t){o.addClass("active")}).addTo(t),new ScrollMagic.Scene({triggerElement:this,duration:e.height(),offset:-n}).on("leave",function(t){o.removeClass("active")}).addTo(t)})}function n(t,e){t.each(function(){var t=$(this),o=t.attr("data-os-animation"),n=t.attr("data-os-animation-delay");t.css({"-webkit-animation-delay":n,"-moz-animation-delay":n,"animation-delay":n});var a=e?e:t;a.waypoint(function(e){"down"==e?t.removeClass("fadeOut").addClass("animated").addClass(o):t.addClass("fadeOut")},{triggerOnce:!0,offset:"95%"})})}function a(t,e){t.each(function(){var t=$(this),o=e?e:t;o.waypoint(function(e){t.toggleClass("swipe")},{triggerOnce:!1,offset:"75%"})})}function i(t,e){t.each(function(){var t=$(this),o=t.children(".inner"),n=e?e:t;n.waypoint(function(e){t.toggleClass("swipe")},{triggerOnce:!1,offset:"75%"})})}Waypoint.refreshAll(),e(),o(),n($(".os-animation")),a($(".image--swipe")),i($(".section--swipe")),function($){$.fn.clickToggle=function(t,e){var o=[t,e];return this.data("toggleclicked",0),this.click(function(t){t.preventDefault();var e=$(this).data(),n=e.toggleclicked;$.proxy(o[n],this)(),e.toggleclicked=(n+1)%2}),this}}(jQuery),$("#menu--toggle").clickToggle(function(){$("#full--menu").addClass("active"),$("body").addClass("full--screen"),$(document).bind("touchmove",function(t){t.preventDefault()})},function(){$(document).bind("touchmove",function(t){$(this).unbind("touchmove")}),$("#full--menu").removeClass("active"),$("body").removeClass("full--screen")}),$(".fixed--height").each(function(){var t=$(this).height();$(this).height(t)}),$(".slider").slick({}),$(".clients--grid-mobile").slick({slidesToShow:1,arrows:!1}),$("#project--form-button, .start--project").click(function(t){t.preventDefault(),$("#full--menu").removeClass("active"),$("#project--form").addClass("active"),$("body").addClass("full--screen"),setTimeout(function(){$(".active").find(".note").fadeIn(),setTimeout(function(){$(".active").find(".note").fadeOut()},3e3)},1e3)}),$("#project--form .close").click(function(t){t.preventDefault(),$("#project--form").removeClass("active"),$("body").removeClass("full--screen")}),$(".accordion li a").click(function(t){event.preventDefault();var e=$(this).siblings(".accordion--box");$(".accordion li a").not(this).removeClass("active"),$(".accordion--box").not(e).removeClass("active"),$(this).toggleClass("active"),$(e).toggleClass("active")});var r=plyr.setup(".plyr");$("#showreel video").prop("muted",!0),$("#all--awards").click(function(t){t.preventDefault(),$(".awards").fadeIn()}),$("#scroll").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$("#welcome").offset().top},500)}),$("#meet--team").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$("#people").offset().top},500)}),$("#work--filter a").click(function(t){t.preventDefault();var e=$(this).attr("href");$("#work--filter a.active").text($(this).text()),$("#work--grid-portfolio").fadeTo(400,0),$.get(e,function(t){var e=$("#work--title h2",t);$("#work--grid-portfolio .max").html(t)}).done(function(t){$("#work--grid-portfolio").fadeTo(400,1,function(){function t(t,e){t.each(function(){var t=$(this),o=t.attr("data-os-animation"),n=t.attr("data-os-animation-delay");t.css({"-webkit-animation-delay":n,"-moz-animation-delay":n,"animation-delay":n});var a=e?e:t;a.waypoint(function(e){"down"==e?t.removeClass("fadeOut").addClass("animated").addClass(o):t.addClass("fadeOut")},{triggerOnce:!0,offset:"95%"})})}t($(".os-animation"))})})}),$(".screenshot-inner").length&&Draggable.create(".screenshot-inner",{type:"scrollTop",edgeResistance:1,throwProps:!0}),$("#work--filter a").not("#work--filter a.active").click(function(){var t=$(this).data("service");$("#work--filter a.active").html(t)})}(jQuery)}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var t={};return function(e,o,n){n||(n="Don't call this twice without a uniqueId"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(e,o)}}(),timeToWaitForLast=100,controller;jQuery(document).ready(function($){$("#loading .wrap").addClass("show"),$("body").addClass("full--screen"),$(window).load(function(){setTimeout(function(){$("#loading").removeClass("initial")},1200),controller=new ScrollMagic.Controller,setTimeout(function(){$("body").removeClass("full--screen"),homeScripts(controller)},1400)}),$(function(){"use strict";var t={hrefRegex:"/"+window.location.host+"/",forms:".forms",allowFormCaching:!1,prefetch:!0,async:!0,cacheLength:2,onBefore:function(t,e){controller.destroy(!0);var o=$(t).data("loading-title");o?$("#loading .wrap").html(o):$("#loading .wrap").html("Loading...")},onStart:{duration:500,render:function(t){$("#full--menu").removeClass("active"),t.addClass("is-exiting"),t.addClass("ajax-load"),e.restartCSSAnimations(),setTimeout(function(){$("#loading").addClass("active")},100)}},onProgress:{render:function(t){}},onAfter:function(){$(document).unbind("touchmove"),Waypoint.refreshAll(),$(".page-template-project-planner").length>0&&$.getScript(window.location.protocol+"//"+window.location.host+"/wp-content/themes/chaptr/library/js/forms.js",function(){})},onReady:{duration:0,render:function(t,e){$("html, body").animate({scrollTop:"0px"},0),t.removeClass("is-exiting"),t.html(e),controller=new ScrollMagic.Controller,setTimeout(function(){$("body").removeClass("full--screen"),$("#loading").removeClass("active")},400),setTimeout(function(){homeScripts(controller)},1e3),projectPlanner()}}},e=$("#main").smoothState(t).data("smoothState")})});